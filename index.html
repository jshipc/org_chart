<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Speakers Committee Org Chart</title>
  <style>
    /* Universal box-sizing so padding/margin calculations are predictable */
    * { box-sizing: border-box; }

    /* Base body styling: system font for readability, limit width for easy reading */
    body {
      font-family: system-ui, sans-serif;
      line-height: 1.5;
      margin: 0;
      padding: 1rem;
      max-width: 80ch;
    }

    /* Responsive heading size */
    h1 {
      font-size: clamp(1.25rem, 2.5vw, 1.75rem);
      margin-bottom: 1rem;
    }

    /* Remove index numbers from ordered lists, keep indentation */
    ol {
      padding-left: 1.25rem;
      list-style: none;
    }

    /* Add slight space between accordion sections */
    details {
      margin: 0.25rem 0;
    }

    /* Make summary clickable and align custom icon with first line */
    summary {
      cursor: pointer;
      display: flex;           /* Put icon (::before) and content on one row */
      align-items: flex-start;  /* Align icon with the top (first line) of content */
      gap: .25rem;              /* Small space between icon and content */
    }

    /* Hide default disclosure triangle across browsers */
    details > summary { list-style: none; }
    details > summary::marker { content: ""; }
    details > summary::-webkit-details-marker { display: none; }

    /* Custom disclosure icons */
    summary::before {
      content: "+";            /* right arrow when closed */
      flex: 0 0 auto;           /* Don't let the icon stretch */
      line-height: 1;           /* Tighter box to align with text */
      margin-top: 0.15em;       /* Nudge to visually align baseline */
    }
    details[open] > summary::before {
      content: "-";            /* down arrow when open */
    }

    /* Contact link styles */
    .contacts { font-size: 0.9em; margin-left: .5rem; white-space: nowrap; }
    .contacts a { text-decoration: underline; }
    .sep { margin: 0 .25rem; }

    /* Two-line entry layout */
    .name-line { font-weight: bold; }
    .title-line { font-size: 0.9em; color: #333; /* no margin-left needed due to flex layout */ }
  </style>
</head>
<body>
  <h1>Speakers Committee</h1>
  <div class="subtitle">Click + to show team, - to hide</div>
  <div class="subtitle">SMS and Email links are functional placeholders</div>
  <!-- Container where JavaScript will insert the generated org chart -->
  <div id="org-chart"></div>

  <script>
  /*
    Inline JSON data representing the org structure.
    Fields:
      - firstName: string (person's given name)
      - lastName: string (person's surname)
      - title: string (job title)
      - phone: string | null (SMS contact number, null if unavailable)
      - email: string | null (email address, null if unavailable)
      - subordinates: array of similar role objects (optional)
  */
  const orgData = {
    firstName: "Rachel", lastName: "M", title: "Chairman", phone: "+15550000001", email: "ceo@example.com",
    subordinates: [
      {
        firstName: "Christie", lastName: "E", title: "VC Public Speaking", phone: null, email: "ops.vp@example.com",
        subordinates: [
          {
            firstName: "First", lastName: "Last", title: "Capitan A - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator A - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator B - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator C - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          },
          {
            firstName: "First", lastName: "Last", title: "Capitan B - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator D - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator E - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator F - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          }
        ]
      },      {
        firstName: "Denise", lastName: "G", title: "VC Team Operations", phone: null, email: "ops.vp@example.com",
        subordinates: [
          {
            firstName: "First", lastName: "Last", title: "Capitan A - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator A - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator B - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator C - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          },
          {
            firstName: "First", lastName: "Last", title: "Capitan B - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator D - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator E - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator F - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          }
        ]
      },      {
        firstName: "Linda", lastName: "H", title: "VC School Events", phone: null, email: "ops.vp@example.com",
        subordinates: [
          {
            firstName: "First", lastName: "Last", title: "Capitan A - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator A - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator B - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator C - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          },
          {
            firstName: "First", lastName: "Last", title: "Capitan B - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator D - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator E - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator F - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          }
        ]
      },      {
        firstName: "John", lastName: "K", title: "VC Community and Special Events", phone: null, email: "ops.vp@example.com",
        subordinates: [
          {
            firstName: "First", lastName: "Last", title: "Capitan A - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator A - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator B - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator C - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          },
          {
            firstName: "First", lastName: "Last", title: "Capitan B - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator D - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator E - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator F - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          }
        ]
      },{
        firstName: "Bennie", lastName: "L", title: "VC Leadership Development", phone: null, email: "ops.vp@example.com",
        subordinates: [
          {
            firstName: "First", lastName: "Last", title: "Capitan A - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator A - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator B - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator C - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          },
          {
            firstName: "First", lastName: "Last", title: "Capitan B - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator D - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator E - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator F - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          }
        ]
      },      {
        firstName: "Marilyn", lastName: "M", title: "VC Administration", phone: null, email: "ops.vp@example.com",
        subordinates: [
          {
            firstName: "First", lastName: "Last", title: "Capitan A - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator A - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator B - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator C - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          },
          {
            firstName: "First", lastName: "Last", title: "Capitan B - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator D - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator E - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator F - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          }
        ]
      },      {
        firstName: "Anne", lastName: "S", title: "VC Recruiting, Training, and Retention", phone: null, email: "ops.vp@example.com",
        subordinates: [
          {
            firstName: "First", lastName: "Last", title: "Capitan A - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator A - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator B - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator C - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          },
          {
            firstName: "First", lastName: "Last", title: "Capitan B - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator D - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator E - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator F - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          }
        ]
      },      {
        firstName: "Dena", lastName: "S", title: "VC Rookie Roundup and Parade", phone: null, email: "ops.vp@example.com",
        subordinates: [
          {
            firstName: "First", lastName: "Last", title: "Capitan A - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator A - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator B - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator C - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          },
          {
            firstName: "First", lastName: "Last", title: "Capitan B - Placeholder", phone: "+15550000021", email: null,
            subordinates: [
              { firstName: "First", lastName: "Last", title: "Coordinator D - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator E - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
              { firstName: "First", lastName: "Last", title: "Coordinator F - Placeholder",      phone: "+15550000031", email: "wh.lead@example.com" },
            ]
          }
        ]
      }
    ]
  };

  /* Build a contact chip showing SMS and Email links, or 'none' if unavailable */
  function contactChip(role) {
    const wrap = document.createElement('span');
    wrap.className = 'contacts';
    const sms = document.createElement('span');
    if (role.phone) {
      const a = document.createElement('a');
      a.href = `sms:${encodeURIComponent(role.phone)}`;
      a.textContent = 'SMS';
      a.setAttribute('aria-label', `Send SMS to ${role.firstName} ${role.lastName}`);
      sms.appendChild(a);
    } else {
      sms.textContent = 'none';
    }
    const email = document.createElement('span');
    if (role.email) {
      const a = document.createElement('a');
      a.href = `mailto:${encodeURIComponent(role.email)}`;
      a.textContent = 'Email';
      a.setAttribute('aria-label', `Send email to ${role.firstName} ${role.lastName}`);
      email.appendChild(a);
    } else {
      email.textContent = 'none';
    }
    wrap.appendChild(document.createTextNode('['));
    wrap.appendChild(sms);
    const sep = document.createElement('span'); sep.className = 'sep'; sep.textContent = '|';
    wrap.appendChild(document.createTextNode(' '));
    wrap.appendChild(sep);
    wrap.appendChild(document.createTextNode(' '));
    wrap.appendChild(email);
    wrap.appendChild(document.createTextNode(' ]'));
    return wrap;
  }

  /* Create a two-line display for one role */
  function roleDisplay(role) {
    const container = document.createElement('div');
    const nameLine = document.createElement('div');
    nameLine.className = 'name-line';
    nameLine.textContent = `${role.firstName} ${role.lastName} `;
    nameLine.appendChild(contactChip(role));
    const titleLine = document.createElement('div');
    titleLine.className = 'title-line';
    titleLine.textContent = role.title;
    container.appendChild(nameLine);
    container.appendChild(titleLine);
    return container;
  }

  /* Recursively build the org chart */
  function createRole(role) {
    if (role.subordinates && role.subordinates.length) {
      const details = document.createElement('details');
      const summary = document.createElement('summary');
      summary.appendChild(roleDisplay(role));
      details.appendChild(summary);
      const list = document.createElement('ol');
      role.subordinates.forEach(sub => {
        const li = document.createElement('li');
        li.appendChild(createRole(sub));
        list.appendChild(li);
      });
      details.appendChild(list);
      return details;
    } else {
      return roleDisplay(role);
    }
  }

  // Prevent accordion toggle when clicking links inside a summary
  document.addEventListener('click', (e) => {
    if (e.target.closest('summary a')) e.stopPropagation();
  });

  // Build and insert the chart into the container
  document.getElementById('org-chart').appendChild(createRole(orgData));
  </script>
</body>
</html>